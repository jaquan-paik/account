
sudo: required  # Docker사용시 sudo권한 필요 https://docs.travis-ci.com/user/docker/

language: python
python:
  - "3.6"

branches:
only:
  - master
  - /^release\/*/
  - test/development

services:
  - docker
  - redis-server

install:
  - pip3 install -r docs/requirements/test.txt
  - make log
  - make settings
script:
  - make lint
  - make test
  - make check-deprecated


before_deploy:
  - pip install awscli

deploy:
  - provider: script
    script: bash docs/travis/setup.sh && bash docs/travis/deploy.sh
    on:
      branch:
        - test/development
        - release/development
        - release/production
